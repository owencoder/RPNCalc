いったん計算式をRPNに変換してから計算するプログラムです。
四則演算から三角関数、関数電卓に備わってる機能を使えるはずです。

元々はbotのために作成したプログラムですが、まぁそれなりに応用できそうなので公開しました。
何か不具合もあるはずです。そこらへんは各自修正お願いします。